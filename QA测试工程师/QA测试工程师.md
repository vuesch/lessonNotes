# æµ‹è¯•æ ¸å¿ƒæ¦‚å¿µ
## ä¸ºä»€ä¹ˆæˆ‘ä»¬å‰ç«¯è¦å­¦æµ‹è¯•ï¼Ÿ
#### 1âƒ£ï¸æ­£ç¡®æ€§ï¼šæµ‹è¯•ä»£ç å¯ä»¥éªŒè¯ä»£ç çš„æ­£ç¡®æ€§ï¼Œåœ¨ä¸Šçº¿å‰åšåˆ°å¿ƒé‡Œæœ‰åº•
#### 2âƒ£ï¸è‡ªåŠ¨åŒ–ï¼šå½“ç„¶æ‰‹å·¥ä¹Ÿå¯ä»¥æµ‹è¯•ï¼Œé€šè¿‡consoleå¯ä»¥æ‰“å°å‡ºå†…éƒ¨ä¿¡æ¯ï¼Œä½†æ˜¯è¿™æ˜¯ä¸€æ¬¡æ€§çš„äº‹æƒ…ï¼Œä¸‹æ¬¡æµ‹è¯•è¿˜éœ€è¦ä»å¤´æ¥è¿‡ï¼Œæ•ˆç‡ä¸èƒ½å¾—åˆ°ä¿è¯ã€‚é€šè¿‡ç¼–å†™æµ‹è¯•ç”¨ä¾‹ï¼Œå¯ä»¥åšåˆ°ä¸€æ¬¡ç¼–å†™ï¼Œå¤šæ¬¡è¿è¡Œ
#### 3âƒ£ï¸è§£é‡Šæ€§ï¼šæµ‹è¯•ç”¨ä¾‹ç”¨äºæµ‹è¯•æ¥å£ã€æ¨¡å—çš„é‡è¦æ€§ï¼Œé‚£ä¹ˆåœ¨æµ‹è¯•ç”¨ä¾‹ä¸­å°±ä¼šæ¶‰åŠå¦‚ä½•ä½¿ç”¨è¿™äº›apiï¼Œå…¶ä»–å¼€å‘äººå‘˜å¦‚æœè¦ä½¿ç”¨è¿™äº›apiï¼Œé‚£é˜…è¯»æµ‹è¯•ç”¨ä¾‹æ˜¯ä¸€ç§å¾ˆå¥½çš„é€”å¾„ï¼Œæœ‰æ—¶æ¯”æ–‡æ¡£è¯´æ˜æ›´æ¸…æ™°ã€‚
#### 4âƒ£ï¸é©±åŠ¨å¼€å‘ï¼šæŒ‡å¯¼è®¾è®¡ï¼šä»£ç è¢«æµ‹è¯•çš„å‰ææ˜¯ä»£ç æœ¬èº«çš„å¯æµ‹è¯•æ€§ï¼Œé‚£ä¹ˆè¦ä¿è¯ä»£ç çš„å¯æµ‹è¯•æ€§ï¼Œå°±éœ€è¦åœ¨å¼€å‘ä¸­æ³¨æ„apiçš„è®¾è®¡ï¼ŒTDDå°†æµ‹è¯•å‰ç§»å°±æ˜¯èµ·åˆ°è¿™ä¹ˆä¸€ä¸ªä½œç”¨
#### 5âƒ£ï¸ä¿è¯é‡æ„ï¼šäº’è”ç½‘è¡Œä¸šäº§å“è¿­ä»£é€Ÿåº¦å¾ˆå¿«ï¼Œè¿­ä»£åå¿…ç„¶å­˜åœ¨ä»£ç é‡æ„çš„è¿‡ç¨‹ï¼Œé‚£ä¹ˆæ€ä¹ˆæ‰èƒ½ä¿è¯é‡æ„ä»£ç çš„è´¨é‡å‘¢ï¼Ÿå¦‚æœæœ‰äº†æµ‹è¯•ç”¨ä¾‹åšåç›¾ï¼Œå°±å¯ä»¥å¤§èƒ†çš„è¿›è¡Œé‡æ„
###### **å¼€å‘äººå‘˜ç®€ç§°ï¼š**
		1.QA----æµ‹è¯•ï¼ˆâ€˜ä¸€é¡¿æ“ä½œçŒ›å¦‚è™ï¼Œä¸€é—®å·¥èµ„ä¸¤åƒäº”â€™ğŸ˜„ï¼‰
		2.FE----å‰ç«¯
		3.RD----åç«¯
		4.OP----è¿ç»´
		5.DB----æ•°æ®åº“
## 1.å•å…ƒæµ‹è¯•
1âƒ£ï¸ç›®çš„ï¼šå•å…ƒæµ‹è¯•èƒ½è®©å¼€å‘è€…æ˜ç¡®çŸ¥é“ä»£ç ç»“æœ
2âƒ£ï¸åŸåˆ™ï¼šå•ä¸€èŒè´£ã€æ¥å£æŠ½è±¡ã€å±‚æ¬¡åˆ†ç¦»
3âƒ£ï¸æ–­è¨€åº“ï¼šä¿è¯æœ€å°å•å…ƒæ˜¯å¦æ­£å¸¸è¿è¡Œæ£€æµ‹æ–¹æ³•
4âƒ£ï¸æµ‹è¯•é£æ ¼ï¼šæµ‹è¯•é©±åŠ¨å¼€å‘å’Œè¡Œä¸ºé©±åŠ¨å¼€å‘å‡æ˜¯æ•æ·å¼€å‘æ–¹æ³•è®ºã€‚
**TDD(æµ‹è¯•é©±åŠ¨å¼€å‘)ï¼šå…³æ³¨æ‰€æœ‰çš„åŠŸèƒ½æ˜¯å¦è¢«å®ç°ï¼ˆæ¯ä¸€ä¸ªåŠŸèƒ½å¿…é¡»æœ‰å¯¹åº”çš„æµ‹è¯•ç”¨ä¾‹ï¼‰ï¼Œsuiteé…åˆteståˆ©ç”¨assertï¼ˆâ€˜tobiâ€™ == user,nameï¼‰ï¼›**
**BDD(è¡Œä¸ºé©±åŠ¨å¼€å‘)ï¼šå…³æ³¨æ•´ä½“è¡Œä¸ºæ˜¯å¦ç¬¦åˆæ•´ä½“é¢„æœŸï¼Œç¼–å†™çš„æ¯ä¸€è¡Œä»£ç éƒ½æœ‰ç›®çš„çš„æä¾›ä¸€ä¸ªå…¨é¢çš„æµ‹è¯•ç”¨ä¾‹é›†ã€‚ expact/should.describeé…åˆitåˆ©ç”¨è‡ªç„¶è¯­è¨€expectï¼ˆ1ï¼‰. toEqual(fn())æ‰§è¡Œç»“æœ**
5âƒ£ï¸å•å…ƒæµ‹è¯•æ¡†æ¶
**ä¸»è¦ç”¨çš„å°±æ˜¯chai.js(åŒæ¨¡)å’ŒJasmine.js(å•æ¨¡)è¿™ä¸¤ç§æ¡†æ¶ï¼Œå›½å†…ä¸»è¦æ˜¯BDDæ¨¡å¼ï¼Œæ‰€ä»¥ç”¨jesmine.js**
![](https://www.showdoc.cc/server/api/common/visitfile/sign/2db07202cc9c4740c89644aa0764968e?showdoc=.jpg)
6âƒ£ï¸å•å…ƒæµ‹è¯•è¿è¡Œæµç¨‹(ç”Ÿå‘½å‘¨æœŸ)
##### 1.before å•ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼ˆitï¼‰å¼€å§‹å‰
##### 2.beforeEach æ¯ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹å¼€å§‹å‰
##### 3.it å®šä¹‰æµ‹è¯•ç”¨ä¾‹  å¹¶ åˆ©ç”¨æ–­è¨€åº“è¿›è¡Œè®¾ç½® chai å¦‚ï¼šexpect(x).to.equal(true)ï¼›å¼‚æ­¥mocha
##### 4.ä»¥ä¸Šä¸“ä¸šæœ¯è¯­å«mock 
**before---->beforeEach----> it ---->after---->afterEach
7âƒ£ï¸è‡ªåŠ¨åŒ–å•å…ƒæµ‹è¯•
###### 1.karma  è‡ªåŠ¨åŒ–runneré›†æˆPhantomJSæ— åˆ·æ–°
###### 2.npm install -g karma
###### 3.npm karma-cli --save-dev
###### 4.npm install karma-chrom-launcher --save-dev
###### 5.npm install   karma-phantomjs-launcher --save-dev
###### 6.npm install karma-mocha --save-dev
###### 7.npm install karma-chai --save-dev
8âƒ£ï¸å¼€å§‹å†™æµ‹è¯•ä»£ç 
###### 1.ä½¿ç”¨npm    cnpmï¼ˆå¾ˆå‘ï¼‰     yarnç­‰è£…åŒ…å·¥å…·  æ³¨æ„ï¼šmacè¦ç”¨sudo
###### 2.cd Desktop ---->   cd sch-qa
###### 3.npm init -y    ç›´æ¥ç¡®å®šæœ¬åœ°ä¸€ä¸ªåŒ…  ä¼šç”Ÿæˆä¸€ä¸ªpackage.jsonæ–‡ä»¶
###### 4.åœ¨sch-qaæ–‡ä»¶å¤¹å†…å»ºä¸€ä¸ªtestæ–‡ä»¶å¤¹ï¼ˆè¯•ç®¡ï¼‰ï¼Œåœ¨testå†…å»ºä¸€ä¸ªunitæ–‡ä»¶å¤¹ï¼Œåœ¨unitæ–‡ä»¶å¤¹é‡Œæ–°å»ºä¸€ä¸ªindex.jsæ–‡ä»¶å’Œä¸€ä¸ªindex.spec.jsï¼ˆæµ‹è¯•æ–‡ä»¶ï¼‰
**æ³¨æ„ï¼š**
`index.jsé‡Œæœ€å¥½ä¸è¦å†™es6çš„è¯­æ³•ï¼Œä¼šæŠ¥é”™ï¼Œphantomjså¯¹es6æ”¯æŒä¸æ˜¯å¾ˆå¥½`

`index.spec.jsé‡Œçš„ä»£ç å¦‚ä¸‹ï¼šdescribe("æµ‹è¯•åŸºæœ¬å‡½æ•°çš„API",function(){
    it("+1å‡½æ•°çš„åº”ç”¨",function(){
        expect(window.add(1)).toBe(2);
    })
});`

######5.yarnå¸¸ç”¨å‘½ä»¤
![](https://www.showdoc.cc/server/api/common/visitfile/sign/d0d160fce744ece95dca44607f44ecd3?showdoc=.jpg)
**yarnæ¯”npmçš„ä¼˜åŠ¿ï¼šyarnæ˜¯ç¦»çº¿ç¼“å­˜ï¼Œå¦‚æœæ˜¯è£…è¿‡çš„åŒ…å†è£…çš„è¯ï¼ŒåŸºæœ¬ç§’è£…**
###### 6.--save-devæ˜¯å¼€å‘é˜¶æ®µç”¨çš„åŒ…        --saveæ˜¯ä¸Šçº¿æ—¶å€™ç”¨çš„åŒ…ï¼ˆé‡ç‚¹ï¼ï¼‰
###### 7.npm login ç™»é™†    npm publish    å‘å¸ƒåŒ…    
###### 8.ä½¿ç”¨yarn add karma --dev   å…ˆè£…karma  è¿™æ˜¯è£…åœ¨æœ¬åœ°  åªèƒ½åœ¨æœ¬åœ°è·‘
###### 9.ä½¿ç”¨yarn  global add karma-cli    æ˜¯æŠŠåŒ…è£…åœ¨äº†å…¨å±€  åªèƒ½åœ¨å…¨å±€è·‘
---------------------------------------------------------------
###### 10.è¿›å…¥sch-qaæ–‡ä»¶å¤¹   æ‰§è¡Œkarma init  åœ¨watchçš„æ—¶å€™é€‰æ‹©no
###### 11.package.jsonæ–‡ä»¶ä¸­çš„scriptsä¸­åŠ    â€œunitâ€:"karma start"
###### 12.å¯¹karma.conf.jsè¿›è¡Œé…ç½®
`1.files:['./test/unit/**/*.js',
      './test/unit/**/*.spec.js']`è¿™æ˜¯é…ç½®è¦æµ‹è¯•çš„æ–‡ä»¶
	  
`2.singleRunï¼štrue`
åœ¨è¿™é‡Œè¦æ”¹æˆtrueï¼Œå› ä¸ºç”¨çš„æ˜¯æ— å¤´æµè§ˆå™¨ï¼ˆæ— ç•Œé¢æµè§ˆå™¨ï¼‰

###### 13.è¿›å…¥sch-qaä¸­  æ‰§è¡Œ npm run unit
###### 14.è¿è¡Œnpm install karma-jasmine  jasmine-core --save-dev   è£…jesmineå’Œjesmine-core
###### 15.è¿è¡Œ npm install karma-phantomjs-launcher --save-dev  
åœ¨14å’Œ15æ­¥çš„æ—¶å€™ä¼šæŠ¥é”™ï¼Œå°±æ˜¯å› ä¸ºåœ¨indexä¸­å†™äº†es6çš„è¯­æ³• ï¼ï¼ï¼ï¼
###### 16.è¿è¡Œ yarn add karma-coverage --dev    æ˜¯ç”¨æ¥åšä»£ç çš„è¦†ç›–ç‡æ£€æŸ¥çš„  å°±æ˜¯ä¸ºäº†é˜²æ­¢æˆ‘ä»¬å†™äº†å¤šä¸ªåˆ†æ”¯è¯­å¥çš„æ—¶å€™æ¼æ‰å…¶ä¸­ä¸€ä¸ªæ²¡æœ‰æµ‹è¯•  ä½†æ˜¯ä¹Ÿä¼šæˆåŠŸ
###### 17.åœ¨karma.conf.jsä¸­é…ç½®
`1.é…ç½®reportersï¼š  reporters: ['progress', 'coverage']ï¼ŒåŠ ä¸Šè¦†ç›–ç‡çš„æ£€æŸ¥`

`2.é…ç½®preprocessors: 'src/**/*.js': ['coverage']ï¼Œåœ¨å¤„ç†çš„æ—¶å€™ï¼ŒæŒ‡å®šå“ªä¸ªæ–‡ä»¶è¦åŠ æ£€æŸ¥`

`3.é…ç½®coverageReporterï¼šcoverageReporter: {
      type : 'html',
      dir : '.docs/coverage/'
    }ï¼ŒæŒ‡å®šç”Ÿæˆçš„æŠ¥è¡¨çš„è·¯å¾„ï¼Œä¸€èˆ¬æ”¾åœ¨å½“å‰ç›®å½•çš„docsé‡Œ`
**testå’Œdocsç›®å½•ä¼šä¼´éšç€æ•´ä¸ªé¡¹ç›®**
---------------------------------------------------------------------
#e2e
###### 1.å»npmjså»æ‰¾selenium-webdriver ç„¶åå®‰è£…   npm install  selenium-webdriver 
###### 2.åœ¨package.jsonä¸­çš„scriptsä¸­åŠ å…¥"e2e":"node ./test/e2e/baidu.spec.js"
###### 3.å»å®˜ç½‘ä¸‹è½½ç«ç‹çš„é©±åŠ¨   ç„¶åæ”¾åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­  è§£å‹ 
###### 4.è¿è¡Œ  npm run e2e
---------------------------------------------------------------------
**rize.jsæ¥å†™å•æµ‹**
###### 1.è¿è¡Œ npm install --save-dev puppeteer rize
###### 2.è¿è¡Œ  yarn add --dev puppeteer rize
###### 3.åœ¨git.spec.jsä¸­åŠ å…¥
`const Rize = require('rize');
const rize = new Rize();`
###### 4.è¿è¡Œ  node ./test/e2e/git.spec.js
## 2.æ€§èƒ½æµ‹è¯•
## 3.å®‰å…¨æµ‹è¯•
## 4.åŠŸèƒ½æµ‹è¯•